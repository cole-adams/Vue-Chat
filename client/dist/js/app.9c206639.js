(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={app:0},r=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"034f":function(e,t,a){"use strict";a("85ec")},1:function(e,t){},1820:function(e,t,a){},"5d43":function(e,t,a){},"69fa":function(e,t,a){"use strict";a("5d43")},"85ec":function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"fill-height"},[a("v-main",{staticClass:"fill-height"},[a("v-container",{staticClass:"fill-height"},[a("Chat")],1)],1)],1)},r=[],i=a("d4ec"),o=a("262e"),c=a("2caf"),l=a("9ab4"),u=a("60a3"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"window-container d-flex"},[a("div",{staticClass:"chat-container d-flex flex-column justify-end"},[a("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.alertState,callback:function(t){e.alertState=t},expression:"alertState"}},[e._v(e._s(e.alertText))]),a("div",{staticClass:"message-container"},[e._l(e.lines,(function(t,s){return a("div",{key:s},[t.message?a("Message",{attrs:{message:t.message,isAuthor:t.message.author.userId===e.user.userId}}):a("div",{staticClass:"py-2"},[a("div",{staticClass:"text-body-1"},[e._v(e._s(t.info))])])],1)})),a("div",{ref:"bottom"})],2),a("v-text-field",{staticClass:"flex-grow-0",attrs:{label:"Message","append-outer-icon":"mdi-send",filled:"",type:"text"},on:{"click:append-outer":e.handleSubmit,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),a("div",{staticClass:"user-container"},[a("v-list",[a("v-subheader",[e._v("Online Users")]),e._l(e.users,(function(t,s){return a("v-list-item",{key:s},[a("v-list-item-avatar",{staticClass:"justify-center",attrs:{color:t.color}},[a("span",{staticClass:"white--text headline"},[e._v(e._s(t.username[0].toUpperCase()))])]),a("v-list-item-content",[a("v-list-item-title",{class:{"font-weight-bold":e.user.userId===t.userId}},[e._v(e._s(t.username)+" "),e.user.userId===t.userId?a("span",[e._v("(You)")]):e._e()])],1)],1)}))],2)],1)])},f=[],m=(a("7db0"),a("a15b"),a("fb6a"),a("45fc"),a("ac1f"),a("466d"),a("5319"),a("1276"),a("2ca0"),a("498a"),a("b85c")),h=a("bee2"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex message-username",class:{"justify-end":e.isAuthor}},[e.isAuthor?e._e():a("v-avatar",{attrs:{color:e.message.author.color}},[a("span",{staticClass:"white--text headline"},[e._v(e._s(e.message.author.username[0].toUpperCase()))])]),a("div",{staticClass:"d-flex flex-column px-2 message-box"},[a("div",{staticClass:"text-caption"},[e._v(e._s(e.message.author.username)+" at "+e._s(e.message.timestamp))]),a("v-card",{staticClass:"rounded-b-xl",class:{"rounded-tr-xl":!e.isAuthor,"rounded-tl-xl":e.isAuthor},attrs:{elevation:"1",color:e.boxColor}},[a("v-card-text",[a("div",{staticClass:"text--primary"},[e._v(e._s(e.message.content))])])],1)],1),e.isAuthor?a("v-avatar",{attrs:{color:e.message.author.color}},[a("span",{staticClass:"white--text headline"},[e._v(e._s(e.message.author.username[0].toUpperCase()))])]):e._e()],1)},p=[],g=function(e){Object(o["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return Object(h["a"])(a,[{key:"boxColor",get:function(){return this.isAuthor?"#90CAF9":"#FFFFFF"}}]),a}(u["c"]);Object(l["a"])([Object(u["b"])()],g.prototype,"message",void 0),Object(l["a"])([Object(u["b"])()],g.prototype,"isAuthor",void 0),g=Object(l["a"])([u["a"]],g);var b=g,y=b,x=(a("de7e"),a("2877")),j=a("6544"),k=a.n(j),O=a("8212"),C=a("b0af"),_=a("99d9"),w=Object(x["a"])(y,v,p,!1,null,"299f8264",null),A=w.exports;k()(w,{VAvatar:O["a"],VCard:C["a"],VCardText:_["a"]});var I=a("4bea"),V=a.n(I),S=function(e){Object(o["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.user={username:"",color:"",userId:-1},e.users=[],e.message="",e.lines=[],e.commands=[{command:"name",arguments:-1,minArguments:1,handler:e.changeUsername},{command:"color",arguments:1,minArguments:1,handler:e.changeColor}],e.alertText="",e.alertState=!1,e}return Object(h["a"])(a,[{key:"created",value:function(){var e=this;this.socket=V()(),this.socket.on("connect",(function(){var t=document.cookie.split(";");if(t.some((function(e){return e.trim().startsWith("userId")}))){var a,s,n=null!==(a=null===(s=t.find((function(e){return e.startsWith("userId")})))||void 0===s?void 0:s.split("=")[1])&&void 0!==a?a:-1;e.socket.emit("retrieve user",n)}else e.socket.emit("new user")})),this.socket.on("chat message",(function(t){e.lines.push({message:t}),console.log(e.$refs),setTimeout((function(){e.$refs.bottom.scrollIntoView()}),0)})),this.socket.on("user",(function(t){e.user=t,document.cookie="userId="+t.userId+";max-age=604800"})),this.socket.on("chat log",(function(t){e.lines=[];var a,s=Object(m["a"])(t);try{for(s.s();!(a=s.n()).done;){var n=a.value;e.lines.push({message:n})}}catch(r){s.e(r)}finally{s.f()}setTimeout((function(){e.$refs.bottom.scrollIntoView()}),0)})),this.socket.on("online users",(function(t){e.users=t})),this.socket.on("duplicate username",(function(t){e.displayAlert("The username '"+t+"' is already taken")}))}},{key:"handleSubmit",value:function(){this.alertState=!1,"/"===this.message[0]?this.handleCommand():this.sendMessage(),this.message=""}},{key:"handleCommand",value:function(){var e,t=this.message.substring(1).trim().split(" "),a=!1,s=Object(m["a"])(this.commands);try{for(s.s();!(e=s.n()).done;){var n=e.value;if(n.command===t[0]){if(a=!0,(n.arguments===t.length-1||-1===n.arguments)&&n.minArguments<=t.length-1){n.handler.apply(this,t.slice(1));break}this.displayAlert("Invalid number of arguments. "+n.command+" takes "+n.minArguments+" argument(s)")}}}catch(r){s.e(r)}finally{s.f()}a||this.displayAlert("'"+t[0]+"' is not a recongized command")}},{key:"changeUsername",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.socket.emit("change username",t.join(" "))}},{key:"changeColor",value:function(e){null!=e.toLowerCase().match(/^[0-9a-f]{6}$/)?this.socket.emit("change color","#"+e):this.displayAlert("'"+e+"' is an invalid color. Use hex color codes")}},{key:"sendMessage",value:function(){var e=this.emojiReplacements(this.message);this.socket.emit("chat message",e)}},{key:"emojiReplacements",value:function(e){var t=e.replace(/:\)/g,"😁").replace(/:\(/g,"🙁").replace(/:o/g,"😲").replace(/<3/g,"❤️");return t}},{key:"displayAlert",value:function(e){this.alertText=e,this.alertState=!0}}]),a}(u["c"]);S=Object(l["a"])([Object(u["a"])({components:{Message:A}})],S);var T=S,M=T,F=(a("69fa"),a("0798")),$=a("8860"),P=a("da13"),U=a("8270"),L=a("5d23"),E=a("e0c7"),J=a("8654"),R=Object(x["a"])(M,d,f,!1,null,"3b8493ce",null),W=R.exports;k()(R,{VAlert:F["a"],VList:$["a"],VListItem:P["a"],VListItemAvatar:U["a"],VListItemContent:L["a"],VListItemTitle:L["b"],VSubheader:E["a"],VTextField:J["a"]});var z=function(e){Object(o["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return a}(u["c"]);z=Object(l["a"])([Object(u["a"])({components:{Chat:W}})],z);var Y=z,q=Y,B=(a("034f"),a("7496")),D=a("a523"),G=a("f6c4"),H=Object(x["a"])(q,n,r,!1,null,null,null),K=H.exports;k()(H,{VApp:B["a"],VContainer:D["a"],VMain:G["a"]});var N=a("f309");s["a"].use(N["a"]);var Q=new N["a"]({});s["a"].config.productionTip=!1,new s["a"]({vuetify:Q,render:function(e){return e(K)}}).$mount("#app")},de7e:function(e,t,a){"use strict";a("1820")}});
//# sourceMappingURL=app.9c206639.js.map